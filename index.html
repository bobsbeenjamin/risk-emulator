<!DOCTYPE html>
<html>

<head>
  <title>Risk!</title>
  <link rel="shortcut icon" href="images/tab-logo.png"/>
  <!-- Boilerplate -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
  <!-- My stuff -->
  <script src="country_data.js"></script>
  <script src="continent_data.js"></script>
  <script src="Risk_logic.js"></script>
  <style>
    /* Make sure that hidden elements don't show, even in modals */
    [hidden] { display: none !important; }
    p[id^="dice-roller-die-"] { text-align: center; }
    iframe{ overflow:hidden; } /* Intended to remove the scrollbar when the t-rex-runner game is run using params, but doesn't work as intended */
  </style>
</head>

<body onload="setUpGameBoard(onLoad=true)">
  
  <!-- Main screen -->
  <h1>Risk Emulator</h1>
  <canvas id="board" width="756" height="554" style="border:3px solid #000000;">
    Oh no! Your browser does not support the HTML5 canvas protocol. You can't play this game on this device.
  </canvas>
  <br/>
  <p id="text-display-area">Click a button below to start</p>
  <button onclick="startGame();">Start Game</button>
  <button type="button" onclick="openModal('settings');" data-toggle="modal" data-target="#settingsMenu">
    Settings
  </button>
  <button id="start-non-combat" style="display: none;" onclick="startAttackOrNoncombatPhase(attacking=false);">
    Make Non-Combat Move
  </button>
  <button id="end-turn" style="display: none;" onclick="nextTurn();">Pass the Turn</button>
  
  <!-- Settings Menu -->
  <div id="settingsMenu" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Settings</h4>
        </div>
        <div class="modal-body">
          <form id="settings-form">
            <h4>Generic Settings</h4>
            <label for="settings-muted">Mute: </label>
            <input type="checkbox" id="settings-muted" name="settings-muted" onclick="muteHandler();">
            <hr/>
            
            <h4>Settings for Starting a New Game</h4>
            <label for="settings-num-players">Number of Players: </label>
            <input type="number" id="settings-num-players" name="settings-num-players" class="new-game-setting"
                   min=2 max=6 value=2>
            <label for="settings-choose-countries-randomly">Choose Countries Randomly: </label>
            <input type="checkbox" id="settings-choose-countries-randomly" class="new-game-setting"
                   name="settings-choose-countries-randomly" checked>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Save</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Dice roller -->
  <div id="diceRoller" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 id="dice-roller-title" class="modal-title"></h4>
        </div>
        <div id="dice-roller-body" class="modal-body">
          <table>
            <tr>
              <td id="dice-roller-die-1-column">
                <p id="dice-roller-die-1-header"></p>
                <img id="dice-roller-die-1-image"></img>
                <p id="dice-roller-die-1-footer"></p>
              </td>
              <td id="dice-roller-die-2-column">
                <p id="dice-roller-die-2-header"></p>
                <img id="dice-roller-die-2-image"></img>
                <p id="dice-roller-die-2-footer"></p>
              </td>
              <td id="dice-roller-die-3-column">
                <p id="dice-roller-die-3-header"></p>
                <img id="dice-roller-die-3-image"></img>
                <p id="dice-roller-die-3-footer"></p>
              </td>
              <td id="dice-roller-die-4-column">
                <p id="dice-roller-die-4-header"></p>
                <img id="dice-roller-die-4-image"></img>
                <p id="dice-roller-die-4-footer"></p>
              </td>
              <td id="dice-roller-die-5-column">
                <p id="dice-roller-die-5-header"></p>
                <img id="dice-roller-die-5-image"></img>
                <p id="dice-roller-die-5-footer"></p>
              </td>
              <td id="dice-roller-die-6-column">
                <p id="dice-roller-die-6-header"></p>
                <img id="dice-roller-die-6-image"></img>
                <p id="dice-roller-die-6-footer"></p>
              </td>
            </tr>
          </table>
          <br/>
          <span id="dice-roller-results"></span>
          <br/>
          <span id="dice-roller-player-info"></span>
        </div>
        <div class="modal-footer">
          <button id="dice-roller-roll-again" type="button" onclick="rollAgain();" class="btn btn-default"
            hidden="true">Roll again
          </button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  
</body>
</html>
